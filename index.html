<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Selamat Ulang Tahun, Kanade ðŸŽ‚âœ¨</title>

<!-- Menggunakan Font yang sama -->
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Playfair+Display:ital,wght@1,600&display=swap" rel="stylesheet">

<style>
:root {
    --primary: #6c3483; /* Sedikit lebih gelap untuk kontras */
    --accent: #ff9ff3;
    --glass: rgba(255, 255, 255, 0.85); /* Lebih solid agar teks terbaca jelas saat miring */
    --glass-border: rgba(255, 255, 255, 0.6);
}

body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    /* Background gradasi yang lebih halus */
    background: linear-gradient(135deg, #2e1436, #5b2c6f, #8e44ad);
    background-size: 400% 400%;
    animation: bgAnim 15s ease infinite;
    font-family: 'Quicksand', sans-serif;
    overflow: hidden;
    perspective: 1000px; /* Penting untuk efek 3D */
}

@keyframes bgAnim {
    0% {background-position: 0% 50%}
    50% {background-position: 100% 50%}
    100% {background-position: 0% 50%}
}

/* INTRO OVERLAY */
#intro-overlay {
    position: fixed;
    inset: 0;
    background: #1a0b2e;
    z-index: 100;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    cursor: pointer;
    transition: opacity 0.8s ease;
}
#intro-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}
.intro-text {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    animation: pulse 2s infinite;
    text-shadow: 0 0 10px rgba(255, 159, 243, 0.5);
}
@keyframes pulse {
    0%,100% {opacity:0.8; transform: scale(1);}
    50% {opacity:1; transform: scale(1.05);}
}

/* CONTAINER UTAMA */
.scene {
    position: relative;
    z-index: 10;
}

/* CARD UTAMA */
.card {
    background: var(--glass);
    backdrop-filter: blur(12px); /* Efek kaca blur modern */
    -webkit-backdrop-filter: blur(12px);
    padding: 40px;
    border-radius: 30px;
    width: 380px;
    text-align: center;
    box-shadow: 
        0 20px 50px rgba(0,0,0,0.4),
        inset 0 0 0 1px var(--glass-border); /* Border tipis halus */
    
    /* Transisi untuk efek hover/tilt */
    transform-style: preserve-3d; /* Agar anak elemen (bayangan) ikut 3D */
    transition: transform 0.1s ease-out; /* Gerakan mouse halus */
    
    opacity: 0;
    transform: translateY(50px) rotateX(10deg); /* Posisi awal */
}
.card.active {
    opacity: 1;
    /* Transform akan dihandle oleh JS mousemove */
    animation: floatCard 6s ease-in-out infinite; /* Animasi naik turun idle */
}

/* Animasi Mengambang saat tidak ada gerakan mouse */
@keyframes floatCard {
    0%, 100% { transform: translateY(0) rotateX(0); }
    50% { transform: translateY(-15px) rotateX(2deg); }
}

/* Efek Kilau/Glare di kartu */
.card-glare {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    border-radius: 30px;
    background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.4), transparent 60%);
    opacity: 0;
    transform: translateZ(1px); /* Sedikit di atas konten */
    pointer-events: none;
    transition: opacity 0.3s;
}

/* IMAGE WRAPPER */
.img-wrapper {
    width: 160px;
    height: 160px;
    margin: 0 auto 25px;
    border-radius: 50%;
    padding: 6px;
    background: linear-gradient(45deg,#ff9ff3,#d2b4de, #8e44ad);
    background-size: 200% 200%;
    animation: hue 5s ease infinite;
    position: relative;
    transform: translateZ(20px); /* Efek pop-out 3D */
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}
@keyframes hue {
    0% {background-position: 0% 50%}
    50% {background-position: 100% 50%}
    100% {background-position: 0% 50%}
}
.img-wrapper img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid white;
    display: block;
}

/* TYPOGRAPHY */
h1 {
    font-family: 'Playfair Display', serif;
    color: var(--primary);
    margin: 10px 0;
    transform: translateZ(30px); /* Efek pop-out */
}

.date {
    font-weight: 700;
    margin-bottom: 20px;
    color: #8e44ad;
    font-size: 0.9rem;
    letter-spacing: 1px;
    transform: translateZ(25px);
}

.message {
    line-height: 1.8;
    margin-bottom: 30px;
    color: #4a235a;
    font-size: 0.95rem;
    transform: translateZ(20px);
}

button {
    border: none;
    padding: 14px 32px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 700;
    font-family: 'Quicksand', sans-serif;
    transition: all 0.3s ease;
    transform: translateZ(35px); /* Tombol paling menonjol */
    box-shadow: 0 5px 15px rgba(142, 68, 173, 0.3);
}
.btn-main {
    background: linear-gradient(135deg,#8e44ad,#9b59b6);
    color: white;
}
.btn-main:hover {
    transform: translateZ(40px) scale(1.05);
    box-shadow: 0 8px 20px rgba(142, 68, 173, 0.5);
}

/* PARTICLES */
.particle {
    position: absolute;
    pointer-events: none;
    z-index: 5; /* Di belakang kartu */
}
.confetti {
    width: 8px;
    height: 8px;
    animation: fall linear forwards;
    border-radius: 2px;
}
.heart {
    font-size: 20px;
    animation: fly linear forwards;
    filter: drop-shadow(0 0 5px rgba(255, 105, 180, 0.5));
}

@keyframes fall {
    0% {transform: translateY(-10vh) rotate(0deg); opacity: 1;}
    100% {transform: translateY(110vh) rotate(720deg); opacity: 0;}
}
@keyframes fly {
    0% {transform: translateY(110vh) scale(0.5); opacity: 0;}
    20% {opacity: 1;}
    100% {transform: translateY(-20vh) scale(1.2); opacity: 0;}
}

/* Responsif untuk layar kecil */
@media (max-width: 480px) {
    .card {
        width: 90%;
        padding: 30px 20px;
    }
    h1 { font-size: 1.5rem; }
    .img-wrapper { width: 130px; height: 130px; }
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro-overlay" onclick="startExperience()">
    <div class="intro-text">Sebuah Melodi Untukmu</div>
    <div style="opacity:.7;margin-top:15px; font-size: 0.9rem;">(Ketuk layar untuk memulai)</div>
</div>

<!-- SCENE & CARD -->
<div class="scene">
    <div class="card" id="card">
        <!-- Efek Kilau -->
        <div class="card-glare" id="cardGlare"></div>

        <div class="img-wrapper">
            <!-- Fallback image jika kanade.jpg tidak ada -->
            <img src="kanade.jpg" onerror="this.src='https://picsum.photos/seed/kanade/300'" alt="Kanade">
        </div>

        <h1>ðŸŽ‚ Selamat Ulang Tahun, Kanade ðŸŽ¶</h1>
        <div class="date">10 Februari 2026</div>

        <div class="message">
            <b>Selamat ulang tahun, Kanade.</b><br>
            Semoga setiap nada yang kamu ciptakan selalu membawa ketenangan dan kebahagiaan.
            <br><br>
            <i>"Kamu adalah suara yang tidak berteriak, tapi selalu tinggal di hati."</i>
            <br><br>
            <b>Teruslah bermusik dan bersinar seperti bintang.</b>
        </div>

        <button class="btn-main" onclick="celebrate()">âœ¨ Rayakan!</button>
    </div>
</div>

<script>
const card = document.getElementById("card");
const cardGlare = document.getElementById("cardGlare");
let isCardActive = false;

// Fungsi Memulai Pengalaman
function startExperience() {
    const overlay = document.getElementById("intro-overlay");
    overlay.classList.add("hidden");
    
    // Tampilkan kartu dengan animasi
    setTimeout(() => {
        card.classList.add("active");
        isCardActive = true;
        // Efek ledakan awal yang lebih besar
        burstParticles(50, 'confetti');
        burstParticles(20, 'heart');
    }, 400);
}

// --- EFEK 3D TILT MENGIKUTI CURSOR ---
document.addEventListener('mousemove', (e) => {
    if (!isCardActive) return;

    // Posisi mouse relatif terhadap tengah layar
    const xAxis = (window.innerWidth / 2 - e.pageX) / 20; // Bagi 20 untuk mengurangi sensitivitas
    const yAxis = (window.innerHeight / 2 - e.pageY) / 20;

    // Terapkan rotasi ke kartu
    // rotateY untuk gerakan kiri-kanan mouse, rotateX untuk atas-bawah
    card.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
    
    // Efek Glare (kilau cahaya) bergerak berlawanan dengan mouse
    cardGlare.style.background = `radial-gradient(circle at ${e.pageX}px ${e.pageY}px, rgba(255,255,255,0.15), transparent 40%)`;
    cardGlare.style.opacity = '1';
});

// Reset posisi saat mouse keluar (opsional)
document.addEventListener('mouseleave', () => {
    card.style.transform = `rotateY(0deg) rotateX(0deg)`;
    cardGlare.style.opacity = '0';
});


// --- SISTEM PARTIKEL (DIUPGRADE) ---

// 1. Generator Otomatis (Lebih Cepat & Lebih Banyak)
// Confetti muncul setiap 200ms (sebelumnya 900ms)
setInterval(createConfetti, 200); 
// Hearts muncul setiap 600ms (sebelumnya 1500ms)
setInterval(createHeart, 600);

function createConfetti() {
    const c = document.createElement("div");
    c.className = "particle confetti";
    
    // Posisi random horizontal
    c.style.left = Math.random() * 100 + "vw";
    c.style.top = "-10px";
    
    // Warna-warna cerah
    const colors = ["#ff9ff3", "#feca57", "#54a0ff", "#ffffff", "#ff6b6b", "#badc58"];
    c.style.background = colors[Math.floor(Math.random() * colors.length)];
    
    // Durasi jatuh bervariasi (3s - 6s) agar lebih natural
    c.style.animationDuration = (Math.random() * 3 + 3) + "s";
    
    document.body.appendChild(c);
    
    // Hapus elemen setelah animasi selesai (6s + buffer)
    setTimeout(() => c.remove(), 7000);
}

function createHeart() {
    const h = document.createElement("div");
    h.className = "particle heart";
    
    // Varian emoji
    const hearts = ["ðŸ’œ", "ðŸ’–", "ðŸ’—", "ðŸŽµ", "âœ¨"];
    h.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
    
    h.style.left = Math.random() * 100 + "vw";
    h.style.bottom = "-20px";
    
    // Durasi terbang bervariasi (4s - 7s)
    h.style.animationDuration = (Math.random() * 3 + 4) + "s";
    
    // Ukuran bervariasi sedikit
    const scale = Math.random() * 0.5 + 0.8;
    h.style.transform = `scale(${scale})`;
    
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 8000);
}

// 2. Fungsi Ledakan Tombol
function celebrate() {
    // Efek "shake" pada tombol atau kartu
    card.style.transform = `scale(1.05) rotateZ(2deg)`;
    setTimeout(() => card.style.transform = `scale(1) rotateZ(0)`, 200);

    // Ledakan besar partikel
    burstParticles(60, 'confetti');
    burstParticles(30, 'heart');
    
    // Ubah teks tombol sementara
    const btn = document.querySelector('.btn-main');
    const originalText = btn.innerHTML;
    btn.innerHTML = "ðŸ¥³ Happy Birthday!";
    setTimeout(() => btn.innerHTML = originalText, 2000);
}

function burstParticles(count, type) {
    for(let i = 0; i < count; i++) {
        setTimeout(() => {
            if(type === 'confetti') createConfetti();
            else createHeart();
        }, i * 20); // Spawn sangat cepat (tiap 20ms)
    }
}
</script>

</body>
</html>
